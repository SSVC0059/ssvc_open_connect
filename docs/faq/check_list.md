# Чек лист при поиске неисправностей при работе OpenConnect

## 1. ***Обеспечение хорошего питания контроллеру.*** 
Питание от порта USB ноутбука или компьютера - это плохое питание. USB порт, особенно на старых компьютерах не в состоянии обеспечить достаточный уровень напряжения, и при работе микроконтроллера возможны просадки. Это приводит к перезагрузке. Питание нужно обеспечивать через качественный провод и такое же зарядное устройство. Идеальный вариант - зарядка от старого смартфона. По идее ее хватит для работы контроллера. Подробнее про питание читаем тут - [ссылка](https://ssvc0059.github.io/ssvc_open_connect/usage/interfaces/power/)

## 2. Точка доступа OpenConnect и подключение к роутеру

При первоначальном включении, OpenConnect создает свою точку доступа - с именем OpenConnect и паролем open-connect. Эта точка доступа полноценна ии при отсутствии роутера можно ей пользоваться. Никаких пробем при этом не возникнет. Если у вас есть свой роутер и вы хотите подключить микроконтроллер  к ней, то на вкладке настройки сперва находите свою сеть (для этого есть соответствующая кнопка для поиска), затем водите пароль и нажимаете кнопку сохранить(!!!!). Затем можете применить настройки. После нажатия кнопки "Сохранить" ваша сеть добавиться в список доступных.

После подключения OpenConnect к вашему роутеру, собственная точка доступа пропадет.
Она пропадет и на телефоне и даже на ноутбуке. Нет это не ошибка так и должно быть. Нет, ее не будет видно и даже после перезагрузки.
И даже если возьмете другой телефон - там этой сети не будет.
Контроллер ее физически отключает после подключения к роутеру.
Если ваш роутер будет выключен или что то пойдет не так, только тогда OpenConnect заново поднимет сеть.

Отвалы от точки роутера или переодические сбои в подключением или не возможность найти сеть могут быть вызваны:

1. Недостаточным питанием контроллера. 
2. Не корректными настройками роутера (например отключена сеть 2.4Ггц или выбран специфичный протокол) Изучайте настройки роутера
3. Удаленностью от роутера

## 3. Переход на страницу OpenConnect

3. После подключения к роутеру OpenConnect должен стать доступен по адресу http://ssvcopenconnect.local, но это возможно только при выполнении следующих условий:
- Вы подключены к той же wifi сети, что и OpenConnect
- Ваш роутер поддерживает работу mDNS - сейчас это практически все роутеры, кроме произведенных в 18 веке.
- У вас не включен VPN на компе, в браузере, роутере или телефоне, если пытаетесь зайти на веб страницу с него. VPN и mDNS не совместимы, если вы не умеете их настраивать. Как настраивать - не ко мне. У каждого VPN свои параметры работы  и настройки. Читайте документацию от сервиса.
- У вас микроконтроллер подключен к питанию, и на всякий случай перезагружен после прошивки. Подключение контроллера к WIFI может занимать около 3-5 минут, при условии что у вас хорошее покрытие.

При использовании актуальной версии OpenConnect и SSVC выданный IP адрес отобразится на дисплее ssvc в дежурном режиме. Так же его можно посмотреть на странице настроек роутера (читайте документацию по своему роутеру)

## 4. Ошибки на странице OpenConnect (Сбои подключения, предупреждение о несоответствии api и.т.д.)

- Проверьте, что вы открываете страницу Openconnect именно в браузере Firefox или Yandex. Браузер Chrome работает не стабильно. Егшо использование не рекомендуется и ошибки при его работе не исправляются.
- Убедитесь, что вы не перешли на страницу Openconnect через ссылку в telegram или через автооткрытие после подключения к wifi или не используете какие то либо неизвестные браузеры. 
- Убедитесь что у вас открыта только одна вкладка Openconnect. Не допускается множественные подключения к контроллеру, в том числе с разных устройств. 
- Убедитесь что вы очистили кеш браузера после прошивки контроллера. Лучше это повторить ещ5е раз, предварительно закрыв страницу Openconnect.
- Убедитесь, что вы используете достаточное питание контроллера и он подключение выполнено корректно, пайка хорошая, разъемы не болтаются.
- Убедитесь, что расстояние до роутера не большое и зона покрытия роутера достает до контроллера. В противном случае переходите на контроллеры со внешней антеной.

## 5. Использование зеленой переходной  платы с aliexpress

<div style="display: flex; justify-content: center;">
    <img src="/ssvc_open_connect/faq/media/f6.png" style="height:auto"> 
</div>

Замечено многими пользователями, что такая плата сильно влияет на работу wifi. Контроллер работает не стабильно и отваливается от сети либо вообще не находит сеть. Использование этой платы или подобной крайне не рекомендуется. 
Возможная причина этого - паразитные емкости на критических пинах. Но это не точно. 
